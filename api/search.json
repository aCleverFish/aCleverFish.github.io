[{"id":"56f5ee9eb9d6b20a14b93644d3b4660a","title":"ASP.NET CORE ä¸­çš„æ¨¡å‹ç»‘å®š","content":"ASP.NET CORE ä¸­çš„æ¨¡å‹ç»‘å®šç³»ç»Ÿ2022Â·05-16  2022 \nä»€ä¹ˆæ˜¯æ¨¡å‹ç»‘å®š\n\n\n\n\n\n\n\n\nControlleræ§åˆ¶å™¨å’Œ Razor é¡µé¢å¤„ç†æ¥è‡ª HTTP è¯·æ±‚çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œè·¯ç”±æ•°æ®å¯èƒ½ä¼šæä¾›è®°å½•é”®ï¼Œè€Œå‘å¸ƒçš„è¡¨å•å­—æ®µå¯èƒ½ä¼šæä¾›æ¨¡å‹å±æ€§çš„å€¼ã€‚ç¼–å†™ä»£ç æ¥æ£€ç´¢æ¯ä¸ªè¿™äº›å€¼å¹¶å°†å®ƒä»¬ä»å­—ç¬¦ä¸²è½¬æ¢ä¸º .NET ç±»å‹å°†æ˜¯ä¹å‘³ä¸”å®¹æ˜“å‡ºé”™çš„ã€‚æ¨¡å‹ç»‘å®šä½¿è¿™ä¸ªè¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚æ¨¡å‹ç»‘å®šç³»ç»Ÿï¼š\n\nä»å„ç§æ¥æºæ£€ç´¢æ•°æ®ï¼Œä¾‹å¦‚è·¯ç”±æ•°æ®ã€è¡¨å•å­—æ®µå’ŒæŸ¥è¯¢å­—ç¬¦ä¸²ã€‚\nåœ¨æ–¹æ³•å‚æ•°å’Œå…¬å…±å±æ€§ä¸­å‘Controlleræ§åˆ¶å™¨å’Œ Razor é¡µé¢æä¾›æ•°æ®ã€‚\nå°†å­—ç¬¦ä¸²æ•°æ®è½¬æ¢ä¸º .NET ç±»å‹ã€‚\næ›´æ–°å¤æ‚ç±»å‹çš„å±æ€§ã€‚\n\nä¸¾ä¾‹å‡è®¾æœ‰ä»¥ä¸‹æ“ä½œæ–¹æ³•\n[HttpGet(&quot;&#123;id&#125;&quot;)] \npublic ActionResult&lt;Pet&gt; GetById(int id, bool dogsOnly)\n\nå¹¶ä¸”åº”ç”¨ç¨‹åºæ¥å—åˆ°å¸¦æœ‰æ­¤URLçš„è¯·æ±‚ï¼š\nhttps:&#x2F;&#x2F;contoso.com&#x2F;api&#x2F;pets&#x2F;2?DogsOnly&#x3D;true\n\næ¨¡å‹ç»‘å®šåœ¨è·¯ç”±ç³»ç»Ÿé€‰æ‹©Actionæ–¹æ³•åä¼šç»è¿‡ä»¥ä¸‹æ­¥éª¤ï¼š\n\næ‰¾åˆ°GetByIdæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåå­—ä¸ºidå˜é‡ç±»å‹ä¸ºint\næŸ¥çœ‹åœ¨HTTPè¯·æ±‚ä¸­å¯ç”¨çš„æºæ•°æ®ç±»å‹å¹¶ä¸”åœ¨è·¯ç”±æ•°æ®ä¸­æ‰¾åˆ°id&#x3D;â€2â€\nå°†stringç±»å‹çš„â€2â€è½¬æ¢æˆintç±»å‹\næ‰¾åˆ°GetByIdçš„ä¸‹ä¸€ä¸ªå‚æ•°ï¼šåå­—ä¸ºdogsOnlyå˜é‡ç±»å‹ä¸ºbool\næŸ¥çœ‹åœ¨HTTPè¯·æ±‚ä¸­å¯ç”¨çš„æºæ•°æ®ç±»å‹å¹¶ä¸”åœ¨è·¯ç”±æ•°æ®ä¸­æ‰¾åˆ°DogsOnly&#x3D;â€trueâ€ã€‚åç§°åŒ¹é…ä¸åŒºåˆ†å¤§å°å†™\nå°†stringç±»å‹çš„â€trueâ€è½¬æ¢æˆboolç±»å‹çš„true\n\n\n\n\n\n\n\n\n\n\nåœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œæ¨¡å‹ç»‘å®šç›®æ ‡æ˜¯ç®€å•çš„æ–¹æ³•å‚æ•°ã€‚ç›®æ ‡ä¹Ÿå¯èƒ½æ˜¯å¤æ‚ç±»å‹çš„å±æ€§ã€‚æˆåŠŸç»‘å®šæ¯ä¸ªå±æ€§åï¼Œä¼šå¯¹è¯¥å±æ€§è¿›è¡Œæ¨¡å‹éªŒè¯ã€‚å°†å“ªäº›æ•°æ®ç»‘å®šåˆ°æ¨¡å‹ä»¥åŠä»»ä½•ç»‘å®šæˆ–éªŒè¯é”™è¯¯çš„è®°å½•å­˜å‚¨åœ¨ControllerBase.ModelStateæˆ–PageModel.ModelStateä¸­ã€‚è¦ç¡®å®šæ­¤è¿‡ç¨‹æ˜¯å¦æˆåŠŸï¼Œåº”ç”¨ç¨‹åºä¼šæ£€æŸ¥ModelState.IsValidæ ‡å¿—ã€‚\nç›®æ ‡æ¨¡å‹ç»‘å®šå°è¯•æŸ¥æ‰¾ä»¥ä¸‹å‡ ç§ç›®æ ‡å€¼\n\nç”±è¯·æ±‚è·¯ç”±åˆ°æ§åˆ¶å™¨actionçš„æ“ä½œæ–¹æ³•çš„å‚æ•°\nç”±è¯·æ±‚è·¯ç”±åˆ°Razor Pageså¤„ç†ç¨‹åºæ–¹æ³•çš„å‚æ•°\nPageModelç±»æˆ–controllerçš„å…¬å…±å±æ€§ï¼ˆå¦‚æœç”±å±æ€§æŒ‡å®šï¼‰ã€‚\n\n[BindProperty] attribute\n\n\n\n\n\n\n\n\n\nå¯ä»¥åº”ç”¨äºController æˆ– PageModelç±»çš„å…¬å…±å±æ€§ï¼Œè®©æ¨¡å‹ç»‘å®šä»¥è¯¥å±æ€§ä¸ºç›®æ ‡ï¼š\npublic class EditModel : PageModel\n&#123;\n    [BindProperty]\n    public Instructor? Instructor &#123; get; set; &#125;\n\n    &#x2F;&#x2F; ...\n&#125;\n\n[BindProperties] attribute\n\n\n\n\n\n\n\n\n\nå¯ä»¥åº”ç”¨äºControlleræˆ–è€…PageModelç±»å»å‘Šè¯‰æ¨¡å‹ç»‘å®šç›®æ ‡æ˜¯è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§\n[BindProperties]\npublic class CreateModel : PageModel\n&#123;\n    public Instructor? Instructor &#123; get; set; &#125;\n\n    &#x2F;&#x2F; ...\n&#125;\n\nHTTP GET è¯·æ±‚çš„æ¨¡å‹ç»‘å®š\n\n\n\n\n\n\n\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œå±æ€§æœªç»‘å®šåˆ° HTTP GET è¯·æ±‚ã€‚é€šå¸¸ï¼ŒGET è¯·æ±‚åªéœ€è¦ä¸€ä¸ªè®°å½• ID çš„å‚æ•°ã€‚è®°å½• ID ç”¨äºåœ¨æ•°æ®åº“ä¸­æŸ¥æ‰¾é¡¹ç›®ã€‚å› æ­¤ï¼Œæ— éœ€ç»‘å®šåŒ…å«æ¨¡å‹å®ä¾‹çš„å±æ€§ã€‚åœ¨æ‚¨ç¡®å®å¸Œæœ›å°†å±æ€§ç»‘å®šåˆ°æ¥è‡ª GET è¯·æ±‚çš„æ•°æ®çš„æƒ…å†µä¸‹ï¼Œè¯·å°†SupportsGetå±æ€§è®¾ç½®ä¸ºtrueï¼š\n[BindProperty(Name &#x3D; &quot;ai_user&quot;, SupportsGet &#x3D; true)]\npublic string? ApplicationInsightsCookie &#123; get; set; &#125;\n\næ¥æºé»˜è®¤æƒ…å†µ\n\n\n\n\n\n\n\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å‹ç»‘å®šä»¥key-valueå¯¹çš„å½¢å¼ä»HTTPè¯·æ±‚ä¸­çš„ä»¥ä¸‹æ¥æºæ‹¿åˆ°æ•°æ®ï¼š\n\nForm fields - è¡¨å•åŸŸ\nThe request body  - è¯·æ±‚ä½“\nRoute data - è·¯ç”±æ•°æ®\nQuery string parameters - æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°\nUploaded files - ä¸Šä¼ çš„æ–‡ä»¶\n\nå¯¹äºæ¯ä¸ªç›®æ ‡å‚æ•°æˆ–å±æ€§ï¼Œæºå°†æŒ‰ç…§å‰é¢åˆ—è¡¨ä¸­æŒ‡ç¤ºçš„é¡ºåºè¿›è¡Œæ‰«æã€‚\n\n\n\n\n\n\n\n\n\næœ‰å‡ ä¸ªä¾‹å¤–ï¼š\n\nè·¯ç”±æ•°æ®å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²å€¼ä»…ç”¨äºç®€å•ç±»å‹ã€‚\nä¸Šä¼ çš„æ–‡ä»¶ä»…ç»‘å®šåˆ°å®ç°IFormFileæ¥å£æˆ–IEnumerable&lt;IFormFile&gt;æ¥å£çš„ç›®æ ‡ç±»å‹ã€‚\n\næŒ‡å®šæ¥æºå¦‚æœé»˜è®¤æ¥æºä¸æ­£ç¡®ï¼Œé‚£å°±éœ€è¦ä½¿ç”¨ä»¥ä¸‹ç‰¹æ€§æ¥æŒ‡å®šæ¥æº\n\n[[FromQuery]] ä»æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­è·å–å€¼ï¼Œ\n[[FromRoute]] ä»è·¯ç”±æ•°æ®ä¸­è·å–å€¼\n[[FromForm]] ä»æäº¤çš„è¡¨å•åŸŸä¸­è·å–å€¼ã€‚\n[[FromBody]] ä»è¯·æ±‚ä½“(è¯·æ±‚æ­£æ–‡)ä¸­è·å–å€¼ã€‚\n[[FromHeader]] ä» HTTP æ ‡å¤´è·å–å€¼ã€‚\n\nè¿™äº›å±æ€§å¯ï¼š\n\nå•ç‹¬æ·»åŠ åˆ°æ¨¡å‹å±æ€§ä¸­ï¼Œè€Œä¸æ˜¯æ·»åŠ åˆ°æ¨¡å‹ç±»ä¸­ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤º\n\npublic class Instructor\n&#123;\n    public int Id &#123; get; set; &#125;\n\n    [FromQuery(Name &#x3D; &quot;Note&quot;)]\n    public string? NoteFromQueryString &#123; get; set; &#125;\n\n    &#x2F;&#x2F; ...\n&#125;\n\n\nå¯ä»¥é€‰æ‹©åœ¨æ„é€ å‡½æ•°ä¸­æ¥æ”¶æ¨¡å‹åç§°å€¼ã€‚å¦‚æœå±æ€§åç§°ä¸è¯·æ±‚ä¸­çš„å€¼ä¸åŒ¹é…ï¼Œåˆ™ä¼šæä¾›æ­¤é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œè¯·æ±‚ä¸­çš„å€¼å¯èƒ½æ˜¯åç§°ä¸­å¸¦æœ‰è¿å­—ç¬¦çš„è¡¨å¤´ï¼Œå¦‚ä¸‹ï¼š\n\npublic void OnGet([FromHeader(Name &#x3D; &quot;Accept-Language&quot;)] string language)\n\nå®é™…åº”ç”¨ä»å‰ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼š\n\nè¯·æ±‚URL\nè¯·æ±‚å¤´\nè¯·æ±‚ä½“[FromXXX] å°±æ˜¯å‘Šè¯‰åå°åœ¨å“ªé‡Œè·å–å‚æ•°ï¼Œåˆ†åˆ«å¯¹åº”ä»¥ä¸Šä¸‰ä¸ªéƒ¨åˆ†æ‹¿åˆ°çš„å‚æ•°\n\n\n[[FromQuery]] ä»æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­è·å–å€¼ï¼ŒHttpGetè¯·æ±‚çš„æ—¶å€™ï¼Œä½¿ç”¨å®ä½“æ¥æ”¶å‚æ•°æ—¶éœ€è¦åŠ \n[[FromRoute]] ä»è·¯ç”±æ•°æ®ä¸­è·å–å€¼æ•°æ®åœ¨è·¯ç”±(URL)ä¸­ï¼Œä¸æ˜¯é‚£ä¸ªå¸¦?å’Œ&amp;çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå¦‚ï¼šè¯·æ±‚æŸåšå®¢æ–‡æ¡£https://www.iaspnetcore.com/Blog/BlogPost/594960eb84cd453380655bc9\n[[FromForm]] ä»æäº¤çš„è¡¨å•åŸŸä¸­è·å–å€¼ã€‚ä»è¯·æ±‚ä½“ä¸­è·å–æ•°æ®ï¼Œä½†æ˜¯æ˜¯é€šè¿‡Formä¼ é€’çš„æ•°æ®\n[[FromBody]] ä»è¯·æ±‚ä½“(è¯·æ±‚æ­£æ–‡)ä¸­è·å–å€¼ã€‚ä»è¯·æ±‚ä½“ä¸­è·å–æ•°æ®ï¼Œæ•°æ®æ ¼å¼ä¸ºæ¥è‡ªè¯·æ±‚ä½“çš„æ•°æ®[FromForm]å’Œ[FromBody]éƒ½æ˜¯ä»bodyé‡Œé¢æ‹¿å€¼ï¼Œåªä¸è¿‡æ‹¿åˆ°çš„æ•°æ®ç±»å‹ä¸åŒ\n[[FromHeader]] ä» HTTP æ ‡å¤´è·å–å€¼ã€‚\n\nä¸¾ä¾‹è®¢è´§ç³»ç»Ÿ\nè·¯ç”±å±æ€§ASP.NET Core æä¾›äº†å¼ºå¤§çš„Routeå±æ€§ã€‚è¿™å¯ä»¥ç”¨æ¥åœ¨æ§åˆ¶å™¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªé¡¶çº§è·¯ç”±â€”â€”è¿™æ ·åšä¼šç•™ä¸‹ä¸€ä¸ªå¯ä»¥æ‰©å±•æ“ä½œçš„å…¬å…±è·¯ç”±ã€‚ä¾‹å¦‚è€ƒè™‘ä»¥ä¸‹å†…å®¹ï¼š\n[Route(&quot;api&#x2F;[Controller]&quot;)]\n\npublic class OrdersController : Controller\n\n&#123;\n    [HttpGet(&quot;&#123;id&#125;&quot;)]\n\n    public Task&lt;Order&gt; Get([FromRoute] int id)&#x3D;&gt; _orderService.GetOrderAsync(id);\n\n&#125;\n\nRoute å±æ€§ç»™äº†ä¸€ä¸ªâ€api&#x2F;[Controller]â€å½¢å¼çš„æ¨¡æ¿â€œ[Controller]â€æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‘½åçº¦å®šï¼Œåœ¨ä¸Šä¸‹æ–‡ä¸­å……å½“æ§åˆ¶å™¨çš„å ä½ç¬¦ï¼Œå³ordersã€‚å†æ¥å…³æ³¨HttpGetï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æä¾›äº†â€{id}â€çš„æ¨¡æ¿å‚æ•°ï¼Œè¿™å°†ä½¿HTTP Getè·¯ç”±åƒâ€api&#x2F;orders&#x2F;1â€ä¸€æ ·ï¼Œå…¶ä¸­idæ˜¯ä¸€ä¸ªå˜é‡ã€‚\nHTTP GET è¯·æ±‚å¯¹äºHTTP GET è¯·æ±‚ã€‚åœ¨æˆ‘ä»¬çš„è®¢å•é›†åˆä¸­ï¼Œæ¯ä¸ªè®¢å•éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡â€idâ€ä»é›†åˆä¸­è®¿é—®å®ƒã€‚å…¸å‹çš„RESTfulé£æ ¼çš„æœ€ä½³å®è·µï¼Œå°±æ˜¯å¯ä»¥é€šè¿‡å®ƒçš„è·¯ç”±æ¥æ£€ç´¢ï¼Œä¾‹å¦‚â€api&#x2F;orders&#x2F;1â€ã€‚å¤„ç†è¿™ä¸ªè¯·æ±‚çš„åŠ¨ä½œå¯ä»¥è¿™æ ·å†™ï¼š\n[HttpGet(&quot;api&#x2F;orders&#x2F;&#123;id&#125;&quot;)&#x2F;&#x2F; api&#x2F;orders&#x2F;7&#96;]\npublic Task&lt;Order&gt; Get([FromRoute] int id,[FromServices] IOrderService orderService)&#x3D;&gt; orderService.GetOrderAsync(id);\n\næˆ‘ä»¬åªéœ€è¦ç®€å•åœ°ä½¿ç”¨HttpGetç‰¹æ€§å»è£…é¥°æ§åˆ¶å™¨è¡Œä¸º(action),è¿™ä¸ªç‰¹æ€§å°†ä¼šæŒ‡ç¤ºASP.NET Coreæ¡†æ¶å°†æ­¤æ“ä½œå½“ä½œHTTP GET åŠ¨ä½œå¤„ç†ç¨‹åºå¹¶å¤„ç†è·¯ç”±ã€‚æˆ‘ä»¬æä¾›ä¸€ä¸ªç«¯ç‚¹æ¨¡æ¿ä½œä¸ºå±æ€§çš„å‚æ•°ã€‚æ¨¡æ¿ç”¨ä½œæ¡†æ¶å°†ç”¨äºåŒ¹é…ä¼ å…¥è¯·æ±‚çš„è·¯ç”±ã€‚åœ¨æ­¤æ¨¡æ¿ä¸­ï¼Œ{id}å€¼å¯¹åº”äºâ€œidâ€å‚æ•°çš„è·¯ç”±éƒ¨åˆ†ã€‚è¿™æ˜¯ä¸€ä¸ªTask&lt;Order&gt;è¿”å›æ–¹æ³•ï¼Œè¿™æ„å‘³ç€è¯¥æ–¹æ³•çš„ä¸»ä½“å°†è¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œä¸€æ—¦ç­‰å¾…ï¼Œè¯¥æ“ä½œæœ€ç»ˆä¼šäº§ç”Ÿä¸€ä¸ªOrderå¯¹è±¡ã€‚è¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå®ƒä»¬éƒ½åˆ©ç”¨äº†ç‰¹æ€§ã€‚é¦–å…ˆ,FromRouteå±æ€§å‘Šè¯‰æ¡†æ¶åœ¨è·¯ç”±(URL)ä¸­æŸ¥æ‰¾â€idâ€å¯¹åº”çš„å€¼å¹¶å°†å…¶ä½œä¸ºidå‚æ•°æä¾›ã€‚ç„¶åæ˜¯FromServiceså±æ€§,è§£å†³äº†IOrderServiceçš„å®ç°ã€‚è¯¥å±æ€§å‘æˆ‘ä»¬çš„ä¾èµ–æ³¨å…¥å®¹å™¨è¯¢é—®IOrderServiceçš„ç›¸åº”å®ç°ã€‚è¯¥å®ç°ç»™orderServiceæä¾›äº†å‚æ•°ã€‚ç„¶åï¼Œå®šä¹‰æˆ‘ä»¬çš„æ–¹æ³•ä½“ä¸ºè®¢å•æœåŠ¡â€™GetOrderAsyncâ€™å‡½æ•°ï¼Œå¹¶å°†ç›¸åº”çš„æ ‡è¯†ç¬¦ä¼ ç»™ä»–ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“çš„ç¼–å†™å®ƒæ¥ä½¿ç”¨FromQueryå±æ€§ã€‚è¿™å°†ä¼šå‘Šè¯‰æ¡†æ¶ç­‰å¾…ä¸€ä¸ªå«åšâ€identifierâ€å’Œç›¸åº”æ•´æ•°å€¼çš„æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚ç„¶åè¯¥å€¼ä½œä¸ºidå‚æ•°ä¼ é€’ç»™actionã€‚å…¶ä»–éƒ½ä¸€æ ·ã€‚ç„¶è€Œå¤§å¤šæ•°ç”¨æ³•ç±»ä¼¼äºFromRouteçš„ç”¨æ³•ï¼Œå°±æ˜¯å°†æ ‡è¯†ç¬¦æ”¾åˆ°URLä¸­ã€‚\n[HttpGet(&quot;api&#x2F;orders&quot;)]&#x2F;&#x2F; api&#x2F;orders?identifier&#x3D;7\npublic Task&lt;Order&gt; Get([FromQuery(Name &#x3D; &quot;identifier&quot;)] int id,[FromServices] IOrderService orderService)&#x3D;&gt; orderService.GetOrderAsync(id);\n\nåœ¨è¿™ç§æƒ…å†µä¸‹,å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªURLä¸ºâ€api&#x2F;orders?id&#x3D;17â€,æ¡†æ¶ä¸ä¼šç»™æˆ‘ä»¬çš„idèµ‹å€¼ä¸º17,è€Œæ˜¯å»æ‰¾æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­æ ‡è¯†ç¬¦ä¸ºâ€identifierâ€çš„å­—æ®µ\n\nHTTP POST è¯·æ±‚å½“éœ€è¦ç»™é¡¾å®¢æš´éœ²ä¸€äº›APIåŠŸèƒ½æ¥å£åˆ›å»ºè®¢å•æ—¶,ä½¿ç”¨HttpPostè¯·æ±‚.\nç¼–å†™å®ƒçš„è¯­æ³•å’Œæˆ‘ä»¬å¤„ç†ä¼¤å¤„HTTP GETç«¯ç‚¹ç›¸åŒ.ä½†æ˜¯ä½¿ç”¨çš„æ˜¯IActionResult,è€Œä¸æ˜¯è¿”å›èµ„æº.åœ¨IActionResultä¸­æœ‰å¤§é‡å­ç±»,å¯ä»¥é€šè¿‡Controllerç±»è®¿é—®.æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€äº›ä¾¿åˆ©çš„æ¥å£æ¯”å¦‚StatusCodeæ–¹æ³•.\nä½¿ç”¨HTTP GET,è¯·æ±‚æ˜¯é’ˆå¯¹èµ„æºçš„;è€ŒHTTP POST æ˜¯åˆ›å»ºèµ„æºçš„è¯·æ±‚,ç›¸åº”çš„å“åº”æ˜¯POSTè¯·æ±‚çš„çŠ¶æ€ç»“æœ\n[HttpPost(&quot;api&#x2F;orders&quot;)]\npublic async Task&lt;IActionResult&gt; Post([FromBody] Order order) &#x3D;&gt; (await _orderService.CreateOrderAsync(order))? (IActionResult)Created($&quot;api&#x2F;orders&#x2F;&#123;order.Id&#125;&quot;, order)&#x2F;&#x2F; HTTP 201\n: StatusCode(500);&#x2F;&#x2F; HTTP 500\n\nä½¿ç”¨HttpPostå±æ€§,æä¾›æ¨¡æ¿å‚æ•°,è¿™é‡Œä¸éœ€è¦æ¨¡æ¿ä¸­çš„â€{id}â€,å› ä¸ºæˆ‘ä»¬é€šè¿‡HTTP POST è¯·æ±‚çš„ä¸»ä½“è·å¾—äº†æ•´ä¸ªè®¢å•å¯¹è±¡ã€‚æ­¤å¤–,æˆ‘ä»¬å°†éœ€è¦ä½¿ç”¨asyncå…³é”®å­—æ¥å¯ç”¨åœ¨æ–¹æ³•ä¸»ä½“ä¸­ä½¿ç”¨awaitå…³é”®å­—ã€‚\næˆ‘ä»¬æœ‰ä¸€ä¸ªTask&lt;IActionResult&gt;ä»£è¡¨æˆ‘ä»¬çš„å¼‚æ­¥æ“ä½œã€‚orderå‚æ•°ç”¨[FromBody]å±æ€§ä¿®é¥°.æ­¤å±æ€§æŒ‡ç¤ºæ¡†æ¶ä»HTTP POST è¯·æ±‚çš„æ­£æ–‡ä¸­æŒ‘é€‰è®¢å•,å°†å…¶ååºåˆ—åŒ–ä¸ºæˆ‘ä»¬çš„å¼ºç±»å‹C# Orderç±»å¯¹è±¡,å¹¶å°†å…¶ä½œä¸ºæ­¤æ“ä½œçš„å‚æ•°æä¾›ã€‚è¿™ä¸ªæ–¹æ³•ä½“æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼,ä¸åƒåœ¨HTTP GETæ–¹æ³•ä¸­æ‰€å±•ç¤ºçš„ä¸€æ ·,è¦æ±‚é€šè¿‡FromServiceå±æ€§æ¥æä¾›è®¢å•çš„æœåŠ¡ã€‚åœ¨è¿™é‡Œæ˜¯åˆ›å»ºæ“ä½œå§”æ‰˜ç»™è®¢å•æœåŠ¡å¯¹CtreateOrderAsyncçš„è°ƒç”¨ï¼Œä¸ºå…¶æä¾›è®¢å•ã€‚è¯¥æœåŠ¡è¿”å›ä¸€ä¸ªè¡¨ç¤ºæˆåŠŸæˆ–å¤±è´¥çš„boolå€¼ã€‚å¦‚æœè°ƒç”¨æˆåŠŸï¼Œåˆ™è¿”å›HTTPçŠ¶æ€ç 201ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œè¿”å›HTTPçŠ¶æ€ç 500ã€‚é™¤äº†ä½¿ç”¨[FromBody]ä»¥å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨[FromForm]æ¥ä¿®é¥°orderå‚æ•°ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹å¼çš„è¯æ‹¿åˆ°å‚æ•°çš„æ–¹å¼å°±ä¸ä¸€æ ·äº†ï¼Œä¸å†æ˜¯ä»bodyä¸­æ‹¿ï¼Œè€Œæ˜¯ä»formä¸­æ‹¿ï¼Œä½†å…¶ä»–éƒ½ä¸€æ ·ã€‚å…¶ä»–çš„å±æ€§å°±ä¸é€‚ç”¨äºPostè¯·æ±‚äº†ï¼Œåº”è¯¥é¿å…ä½¿ç”¨ã€‚\n[HttpPost(&quot;api&#x2F;orders&quot;)]\npublic async Task&lt;IActionResult&gt;Post([FromForm] Order order)&#x3D;&gt; (await _orderService.CreateOrderAsync(order))? Ok() &#x2F;&#x2F; HTTP 200\n: StatusCode(500);\n\nHTTP PUT è¯·æ±‚ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥åˆ›å»ºå’ŒæŸ¥è¯¢è®¢å•ï¼Œç„¶åæˆ‘ä»¬å°†èƒ½å¤Ÿä¿®æ”¹ä»–ä»¬ã€‚\nHTTP PUT è¯·æ±‚æ˜¯å¹‚ç­‰çš„ã€‚è¿™æ„å‘³ç€å¦‚æœä¸€ä¸ªHTTP PUT è¯·æ±‚å‘ç”Ÿæ—¶ï¼Œä»»ä½•å…·æœ‰ç›¸åŒè´Ÿè½½çš„åç»­HTTP PUT è¯·æ±‚éƒ½å°†äº§ç”Ÿç›¸åŒçš„å“åº”ã€‚æ¢å¥è¯è¯´å¤šä¸ªç›¸åŒçš„HTTP PUT è¯·æ±‚æ˜¯æ— å®³çš„ï¼Œèµ„æºä»…åœ¨ç¬¬ä¸€ä¸ªè¯·æ±‚æ—¶å—åˆ°å½±å“\nHTTP PUT åŠ¨è¯ä¸ HTTP POST åŠ¨è¯éå¸¸ç›¸ä¼¼ï¼Œå› ä¸ºé…å¯¹åœ¨ä¸€èµ·çš„ ASP.NET Core å±æ€§æ˜¯ç›¸åŒçš„ã€‚åŒæ ·ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨[FromBody]æˆ–[FromForm]å±æ€§ã€‚å¦‚ä¸‹ï¼š\n[HttpPut(&quot;api&#x2F;orders&#x2F;&#123;id&#125;&quot;)]\npublic async Task&lt;IActionResult&gt;Put([FromRoute] int id, [FromBody] Order order)&#x3D;&gt; (await _orderService.UpdateOrderAsync(id, order))? Ok(): StatusCode(500);\n\nåœ¨è¿™é‡Œ[FromRoute]å±æ€§æä¾›äº†idå‚æ•°ï¼ŒFromBodyå±æ€§å°†HTTP PUT è¯·æ±‚æ­£æ–‡ä½œä¸ºæˆ‘ä»¬çš„C# Orderå®ä¾‹ååºåˆ—åŒ–åˆ°orderå‚æ•°ä¸­ã€‚æˆ‘ä»¬å°†æ“ä½œè¡¨ç¤ºä¸ºå¯¹è®¢å•æœåŠ¡çš„UpdateOrderAsyncå‡½æ•°çš„è°ƒç”¨ï¼Œä¼ é€’idå’Œorderã€‚æœ€åï¼Œæ ¹æ®æˆ‘ä»¬æ˜¯å¦èƒ½å¤ŸæˆåŠŸæ›´æ–°è®¢å•â€”â€”æˆ‘ä»¬è¿”å› 200 æˆ– 500 çš„ HTTP çŠ¶æ€ä»£ç ä»¥è¡¨ç¤ºæ›´æ–°å¤±è´¥ã€‚\nHTTP DELETE è¯·æ±‚æœ€åæ˜¯åˆ é™¤æ“ä½œï¼Œå®ƒé€šè¿‡HTTP DELETE è¯·æ±‚æ¥å±•ç¤ºæ¥å£ä»è·¯ç”±æ¨¡æ¿çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬ä» REST ä¸­å¯»æ‰¾çµæ„Ÿå¹¶éµå¾ªå…¶å»ºè®®çš„æ¨¡å¼ã€‚\nHTTP DELETE åŠ¨è¯ä¸ HTTP GET ç±»ä¼¼ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ {id} ä½œä¸ºè·¯ç”±çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶åœ¨è®¢å•é›†åˆä¸Šè°ƒç”¨ delete è°ƒç”¨ã€‚è¿™å°†åˆ é™¤ç»™å®š ID çš„è®¢å•ã€‚\n[HttpDelete(&quot;api&#x2F;orders&#x2F;&#123;id&#125;&quot;)]\npublic async Task&lt;IActionResult&gt;Delete([FromRoute] int id)&#x3D;&gt; (await _orderService.DeleteOrderAsync(id))? (IActionResult)Ok(): NoContent();\n\nè™½ç„¶ç¡®å®å¯ä»¥å°†FromQueryä¸ HTTP DELETE è¯·æ±‚ä¸€èµ·ä½¿ç”¨ï¼Œä½†è¿™æ˜¯éå¸¸è§„ä¸”ä¸æ˜æ™ºçš„ã€‚æœ€å¥½åšæŒä½¿ç”¨FromRouteå±æ€§ã€‚\nGetå’ŒPostè¯·æ±‚1. Getè¯·æ±‚å‰ç«¯JSå‘é€Getè¯·æ±‚çš„æ—¶å€™ï¼Œåå°å¯ä»¥åˆ†å‚æ•°æ¥æ”¶ï¼Œä¹Ÿå¯ä»¥ç”¨å®ä½“æ¥æ”¶ï¼Œä½†æ˜¯éœ€è¦åœ¨å®ä½“çš„å‰é¢åŠ ä¸Š[FromQuery]ã€‚ æ³¨ï¼šä¸èƒ½ç”¨dynamicæ¥æ”¶ï¼Œä¸ç®¡æ€ä¹ˆå¤„ç†éƒ½æŠ¥é”™ã€‚æ¡ˆä¾‹æµ‹è¯•ã€€(1).åˆ†å‚æ•°æ¥æ”¶ï¼Œå¯ä»¥æ­£å¸¸è®¿é—®ã€‚ã€€(2).ä½¿ç”¨å®ä½“ç±»æ¥æ”¶ï¼Œå‰é¢åŠ [FromQuery],å¯ä»¥æ­£å¸¸è®¿é—®(å¦åˆ™æŠ¥415)ã€‚ã€€(3).ç”¨dynamicæ¥æ”¶ï¼Œå‰é¢ä»€ä¹ˆä¸åŠ ,æŠ¥é”™415,å‰é¢åŠ [FromQuery]ï¼Œä¹ŸæŠ¥é”™ï¼ŒæŠ¥500ã€‚æœåŠ¡ç«¯ä»£ç ï¼š\n[Route(&quot;api&#x2F;[controller]&#x2F;[action]&quot;)]\n    [ApiController]\n    public class FirstController : ControllerBase\n    &#123;\n        &#x2F;**ä¸‹é¢æ˜¯æµ‹è¯•Getè¯·æ±‚çš„ç›¸å…³æ–¹æ³•**&#x2F;\n        [HttpGet]\n        public string GetInfor1(string userName, string pwd)\n        &#123;\n            return $&quot;&#123;userName&#125;+&#123;pwd&#125;&quot;;\n        &#125;\n\n        [HttpGet]\n        public string GetInfor2([FromQuery]UserInfor model)\n        &#123;\n            return $&quot;&#123;model.userName&#125;+&#123;model.pwd&#125;&quot;;\n        &#125;\n        [HttpGet]\n        &#x2F;&#x2F;åŠ ä¸Š[FromQuery]ä¹ŸæŠ¥é”™\n        public string GetInfor3([FromQuery]dynamic model)\n        &#123;\n            return $&quot;&#123;model.userName&#125;+&#123;model.pwd&#125;&quot;;\n        &#125;\n    &#125;\n\nå‰ç«¯ä»£ç ï¼š\n//ä¸€.ä¸‹é¢æ˜¯Getè¯·æ±‚çš„æµ‹è¯•\n            //1. åˆ†å‚æ•°æ¥æ”¶ï¼Œå¯ä»¥æ­£å¸¸è®¿é—®\n            $(\"#getBtn1\").click(function () &#123;\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/GetInfor1\", type: \"get\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;, success: function (data) &#123; console.log(data); &#125; &#125;);\n            &#125;);\n            //2. ç”¨å®ä½“ç±»æ¥æ”¶ï¼Œå‰é¢åŠ [FromQuery],å¯ä»¥æ­£å¸¸è®¿é—®(å¦åˆ™æŠ¥415)\n            $(\"#getBtn2\").click(function () &#123;\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/GetInfor2\", type: \"get\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;, success: function (data) &#123; console.log(data); &#125; &#125;);\n            &#125;);\n            //3. ç”¨dynamicæ¥æ”¶ï¼Œå‰é¢ä»€ä¹ˆä¸åŠ ,æŠ¥é”™415,å‰é¢åŠ [FromQuery]ï¼Œä¹ŸæŠ¥é”™ï¼ŒæŠ¥500\n            $(\"#getBtn3\").click(function () &#123;\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/GetInfor3\", type: \"get\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;, success: function (data) &#123; console.log(data); &#125; &#125;);\n\n2. Postè¯·æ±‚å‰ç«¯JSå‘é€Postè¯·æ±‚çš„æ—¶å€™ï¼Œå¯èƒ½æ˜¯è¡¨å•æäº¤ï¼Œä¹Ÿå¯èƒ½æ˜¯JOSNæ ¼å¼æäº¤ï¼Œæ‰€ä»¥ä¸‹é¢è¦åˆ†æƒ…å†µè®¨è®ºï¼šé»˜è®¤æƒ…å†µä¸‹åœ¨æˆ‘ä»¬æ³¨å…¥MVCæœåŠ¡æ—¶è¢«é…ç½®ä½¿ç”¨çš„æ—¶JsonInputFormatterï¼Œå³å®ä½“é»˜è®¤æ¥å—JSONæ ¼å¼çš„æ•°æ®ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è®©å®ƒæ¥å—è¡¨å•æ•°æ®ï¼Œéœ€è¦åœ¨å®ä½“å‰é¢åŠ [FromForm].ã€€(1).æ¥æ”¶JSONæ ¼å¼ï¼šå®ä½“å‰é¢ä»€ä¹ˆä¹Ÿä¸åŠ  æˆ–è€… å®ä½“å‰é¢åŠ [FromBody]ã€€(2).æ¥æ”¶è¡¨å•æ ¼å¼: å®ä½“å‰é¢åŠ [FromForm]æ³¨ï¼šä¸èƒ½åˆ†å‚æ•°æ¥æ”¶ï¼ï¼ ç”¨dynamicæ¥æ”¶çš„æ—¶å€™ï¼Œåªèƒ½å¤„ç†å‰ç«¯JOSNæ ¼å¼çš„æ•°æ®ï¼ŒåŠ [FromBody]æˆ–è€…ä¸åŠ éƒ½è¡Œï¼Œ ä¸èƒ½å¤„ç†å‰ç«¯è¡¨å•æ ¼å¼æ•°æ®ï¼ï¼æ¡ˆä¾‹æµ‹è¯•ï¼š(1). ä¸€ä¸ªå‚æ•°çš„æƒ…å†µï¼Œåå°åˆ†å‚æ•°æ¥æ”¶ï¼Œæ‹¿ä¸åˆ°å€¼(2).è¡¨å•æäº¤ï¼Œå®ä½“å‰é¢ä»€ä¹ˆä¹Ÿä¸åŠ  æˆ–è€… å®ä½“å‰é¢åŠ [FromForm]ï¼ŒLogin1 å’Œ Login2 å‡æŠ¥415ï¼ŒLogin3å¯ä»¥æ­£å¸¸è®¿é—®(3).JSONæäº¤ï¼Œå®ä½“å‰é¢åŠ [FromBody]ï¼ŒLogin1ï¼ŒLogin2æ­£å¸¸è®¿é—®ï¼ŒLogin3èƒ½è®¿é—®é€šï¼Œä½†æ˜¯åå°æ‹¿ä¸åˆ°å€¼ï¼Œéƒ½ä¸ºç©º(4).JOSNæ ¼å¼ï¼Œåå°ç”¨dynamicèƒ½æ¥æ”¶ï¼ŒåŠ [FromBody]æˆ–è€…ä¸åŠ éƒ½å¯ä»¥æ¥æ”¶(5).è¡¨å•æ ¼å¼ï¼Œåå°ç”¨dynamicä¸èƒ½æ¥æ”¶ï¼ŒåŠ [FromForm]æˆ–è€…ä¸åŠ éƒ½æŠ¥500ï¼ŒæŠ¥é”™ã€‚\næœåŠ¡ç«¯ä»£ç ï¼š\n[Route(&quot;api&#x2F;[controller]&#x2F;[action]&quot;)]\n    [ApiController]\n    public class FirstController : ControllerBase\n    &#123;\n        &#x2F;**ä¸‹é¢æ˜¯æµ‹è¯•Postè¯·æ±‚çš„ç›¸å…³æ–¹æ³•**&#x2F;\n        [HttpPost]\n        public string Login0(string userName)\n        &#123;\n            return $&quot;&#123;userName&#125;&quot;;\n        &#125;\n        \n        [HttpPost]\n        public string Login1(UserInfor model)\n        &#123;\n            return $&quot;&#123;model.userName&#125;+&#123;model.pwd&#125;&quot;;\n        &#125;\n        \n        [HttpPost]\n        public string Login2([FromBody]UserInfor model)\n        &#123;\n            return $&quot;&#123;model.userName&#125;+&#123;model.pwd&#125;&quot;;\n        &#125;\n\n        [HttpPost]\n        public string Login3([FromForm]UserInfor model)\n        &#123;\n            return $&quot;&#123;model.userName&#125;+&#123;model.pwd&#125;&quot;;\n        &#125;\n        [HttpPost]\n        public string Login4([FromBody]dynamic model)\n        &#123;\n            return $&quot;&#123;model.userName&#125;+&#123;model.pwd&#125;&quot;;\n        &#125;\n\n        [HttpPost]\n        public string Login5([FromForm]dynamic model)\n        &#123;\n            return $&quot;&#123;model.userName&#125;+&#123;model.pwd&#125;&quot;;\n        &#125;\n    &#125;\n\n//äºŒ.ä¸‹é¢æ˜¯Postè¯·æ±‚çš„æµ‹è¯•\n            //ï¼ˆPostè¯·æ±‚é»˜è®¤æƒ…å†µä¸‹ä¸ºï¼šContentType = \"application/x-www-form-urlencoded\"æäº¤è¡¨å•çš„å½¢å¼,å¦‚æœè¦å‘é€JOSNæ ¼å¼ï¼Œéœ€è¦åŠ ä¸Šå‚æ•°contentType: 'application/json'ï¼‰\n            //PS: &#123; userName: \"admin\", pwd: \"123456\" &#125; è¿™å°±æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å«å®ä½“\n\n            //1. ä¸€ä¸ªå‚æ•°çš„æƒ…å†µï¼Œåå°åˆ†å‚æ•°æ¥æ”¶,å‡æ‹¿ä¸åˆ°å€¼\n            $(\"#postBtn0\").click(function () &#123;\n                //1.1 æ­£å¸¸æ‹¼æ¥ï¼Œå¯ä»¥è®¿é—®é€šï¼Œä½†æ˜¯æ‹¿ä¸åˆ°userNameçš„å€¼\n                //$.ajax(&#123; url: \"https://localhost:44387/api/First/Login0\", type: \"Post\", data: &#123; userName: \"admin\" &#125;, success: function (data) &#123; console.log(data);  &#125; &#125;);\n                //1.2 æ²¡æœ‰é”®ï¼Œåªæœ‰å€¼ï¼Œå¯ä»¥è®¿é—®é€šï¼Œä½†æ˜¯æ‹¿ä¸åˆ°userNameçš„å€¼ ï¼ˆè¿™é‡ŒåŒ.Net å¹³å°ä¸‹çš„WebApiä¸åŒï¼‰\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/Login0\", type: \"Post\", data: &#123; \"\": \"admin\" &#125;, success: function (data) &#123; console.log(data); &#125; &#125;);\n            &#125;);\n\n            //2. è¡¨å•æäº¤ï¼ŒLogin1 å’Œ Login2 å‡æŠ¥415ï¼ŒLogin3å¯ä»¥æ­£å¸¸è®¿é—®\n            $(\"#postBtn1\").click(function () &#123;\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/Login1\", type: \"Post\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;, success: function (data) &#123; console.log(\"Login1:\" + data); &#125; &#125;);\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/Login2\", type: \"Post\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;, success: function (data) &#123; console.log(\"Login2:\" + data); &#125; &#125;);\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/Login3\", type: \"Post\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;, success: function (data) &#123; console.log(\"Login3:\" + data); &#125; &#125;);\n            &#125;);\n\n            //3.JSONæäº¤ï¼ŒLogin1ï¼ŒLogin2æ­£å¸¸è®¿é—®ï¼ŒLogin3èƒ½è®¿é—®é€šï¼Œä½†æ˜¯åå°æ‹¿ä¸åˆ°å€¼ï¼Œéƒ½ä¸ºç©º\n            $(\"#postBtn2\").click(function () &#123;\n                //å°†postè¯·æ±‚æŒ‡å®šä¸ºcontentType: 'application/json',ä¸”ä¼ é€’çš„å‚æ•°æ ¼å¼åŒ–æˆJsonå­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥æ­£å¸¸è®¿é—®\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/Login1\", type: \"Post\", contentType: 'application/json', data: JSON.stringify(&#123; userName: \"admin\", pwd: \"123456\" &#125;), success: function (data) &#123; console.log(\"Login1:\" + data); &#125; &#125;);\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/Login2\", type: \"Post\", contentType: 'application/json', data: JSON.stringify(&#123; userName: \"admin\", pwd: \"123456\" &#125;), success: function (data) &#123; console.log(\"Login2:\" + data); &#125; &#125;);\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/Login3\", type: \"Post\", contentType: 'application/json', data: JSON.stringify(&#123; userName: \"admin\", pwd: \"123456\" &#125;), success: function (data) &#123; console.log(\"Login3:\" + data); &#125; &#125;);\n\n            &#125;);\n\n            //4.JOSNæ ¼å¼ï¼Œåå°ç”¨dynamicèƒ½æ¥æ”¶ï¼ŒåŠ [FromBody]æˆ–è€…ä¸åŠ éƒ½å¯ä»¥æ¥æ”¶\n            $(\"#postBtn3\").click(function () &#123;\n                //å°†postè¯·æ±‚æŒ‡å®šä¸ºcontentType: 'application/json',ä¸”ä¼ é€’çš„å‚æ•°æ ¼å¼åŒ–æˆJsonå­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥æ­£å¸¸è®¿é—®\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/Login4\", type: \"Post\", contentType: 'application/json', data: JSON.stringify(&#123; userName: \"admin\", pwd: \"123456\" &#125;), success: function (data) &#123; console.log(\"JSON:\" + data); &#125; &#125;);\n            &#125;);\n            //5.è¡¨å•æ ¼å¼ï¼Œåå°ç”¨dynamicä¸èƒ½æ¥æ”¶ï¼ŒåŠ [FromForm]æˆ–è€…ä¸åŠ éƒ½æŠ¥500\n            $(\"#postBtn4\").click(function () &#123;\n                $.ajax(&#123; url: \"https://localhost:44387/api/First/Login5\", type: \"Post\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;, success: function (data) &#123; console.log(\"è¡¨å•:\" + data); &#125; &#125;);\n            &#125;);\n\n3. æ€»ç»“\n\n\n\n\n\n\n\n\nGetè¯·æ±‚ï¼Œå¯ä»¥åˆ†å‚æ•°æ¥æ”¶ï¼Œä¹Ÿå¯ä»¥ç”¨å®ä½“æ¥æ”¶ï¼Œéœ€è¦åœ¨å®ä½“çš„å‰é¢åŠ ä¸Š[FromQuery]ã€‚POSTè¯·æ±‚ï¼Œåªèƒ½ç”¨å®ä½“æ¥æ”¶ï¼Œé’ˆå¯¹jsé»˜è®¤çš„è¡¨å•æäº¤æ–¹å¼ï¼Œå®ä½“å‰é¢åŠ [FromForm]ï¼›é’ˆå¯¹jsçš„JSONæ ¼å¼çš„æäº¤æ–¹å¼ï¼Œå®ä½“å‰é¢ä»€ä¹ˆä¹Ÿä¸åŠ  æˆ–è€… å®ä½“å‰é¢åŠ [FromBody]ã€‚\n\n4.è¿”å›å€¼çš„é—®é¢˜ç”¨Contentæ ‡è®°jsonç±»å‹å’Œç›´æ¥è¿”å›åºåˆ—åŒ–å­—ç¬¦ä¸²çš„åŒºåˆ«ã€‚ç”¨ Content(jsonData, â€œapplication&#x2F;jsonâ€); æ ‡è®°ï¼Œå‰ç«¯ä»€ä¹ˆä¸ç”¨åŠ ï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡ºæ¥çš„ã€‚æœåŠ¡ç«¯ä»£ç ï¼š\n&#x2F;&#x2F;&#x2F; &lt;summary&gt;\n        &#x2F;&#x2F;&#x2F; å‰ç«¯ä¸èƒ½ç›´æ¥ç‚¹å‡ºæ¥\n        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;\n        &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;\n        [HttpGet]\n        public string GetGoodById1()\n        &#123;\n            var myData &#x3D; new\n            &#123;\n                status &#x3D; &quot;ok&quot;,\n                goods &#x3D; new UserInfor()\n                &#123;\n                    userName &#x3D; &quot;apple&quot;,\n                    pwd &#x3D; &quot;12345&quot;\n                &#125;\n            &#125;;\n            var jsonData &#x3D; JsonConvert.SerializeObject(myData);\n            return jsonData;\n        &#125;\n\n        &#x2F;&#x2F;&#x2F; &lt;summary&gt;\n        &#x2F;&#x2F;&#x2F; å‰ç«¯å¯ä»¥ç›´æ¥ ç‚¹å‡ºæ¥\n        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;\n        &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;\n        [HttpGet]\n        public IActionResult GetGoodById2()\n        &#123;\n            var myData &#x3D; new\n            &#123;\n                status &#x3D; &quot;ok&quot;,\n                goods &#x3D; new UserInfor()\n                &#123;\n                    userName &#x3D; &quot;apple&quot;,\n                    pwd &#x3D; &quot;12345&quot;\n                &#125;\n            &#125;;\n            var jsonData &#x3D; JsonConvert.SerializeObject(myData);\n            return Content(jsonData, &quot;application&#x2F;json&quot;);\n        &#125;\n\nå‰ç«¯ä»£ç ï¼š\n$(\"#rBtn1\").click(function () &#123;\n                $.ajax(&#123;\n                    url: \"https://localhost:44387/api/First/GetGoodById1\", type: \"get\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;,  success: function (data) &#123;\n                        console.log(data);\n                        //ä¸èƒ½ç›´æ¥ç‚¹å‡ºæ¥\n                        console.log(data.status);\n                    &#125;\n                &#125;);\n                $.ajax(&#123;\n                    url: \"https://localhost:44387/api/First/GetGoodById1\", type: \"get\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;, dataType: \"json\", success: function (data) &#123;\n                        console.log(data);\n                        //åŠ ä¸ŠdataType: \"json\",å°±èƒ½ç›´æ¥ç‚¹å‡ºæ¥\n                        console.log(data.status);\n                    &#125;\n                &#125;);\n            &#125;);\n            $(\"#rBtn2\").click(function () &#123;\n                $.ajax(&#123;\n                    url: \"https://localhost:44387/api/First/GetGoodById2\", type: \"get\", data: &#123; userName: \"admin\", pwd: \"123456\" &#125;, success: function (data) &#123;\n                        console.log(data);\n                        //èƒ½ç›´æ¥ç‚¹å‡ºæ¥\n                        console.log(data.status);\n                    &#125;\n                &#125;);\n            &#125;);\n\n5.ç‰¹æ®Šæƒ…å†µ\n\n\n\n\n\n\n\n\nåœ¨Core WebApi(æˆ–Core Mvc)ä¸­ï¼Œå½“å‰ç«¯å‘é€çš„å­—æ®µä¸ºç©ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œæ— è®ºgetè¿˜æ˜¯postè¯·æ±‚ï¼Œåç«¯è§£æåˆ°çš„éƒ½æ˜¯nullï¼Œæ˜¾ç„¶æˆ‘ä»¬éœ€è¦çš„ä¸æ˜¯nullï¼Œè€Œæ˜¯ ç©ºå­—ç¬¦ä¸² â€œâ€\nè§£å†³æ–¹æ¡ˆï¼šã€€æ¥å£ç”¨å®ä½“æ¥æ”¶ï¼Œä¸”å¯¹åº”å­—æ®µä¸ŠåŠ ä¸Šç‰¹æ€§ã€€  [DisplayFormat(ConvertEmptyStringToNull &#x3D; false)]è¯·æ±‚\n$.get(\"/api/Test1/GetGoodNum2\", &#123; id: 111, userName: \"\" &#125;, function () &#123;&#125;)\n\næ¥å£\n[HttpGet]\npublic int GetGoodNum2([FromQuery] User user)\n&#123;\n            return user.id;\n&#125;\npublic class User\n&#123;\n        public int id &#123; get; set; &#125;\n\n        [DisplayFormat(ConvertEmptyStringToNull &#x3D; false)]\n        public string userName &#123; get; set; &#125;\n\n&#125;\n\nå‚è€ƒæ–‡ç« \nAsp.Net Core ä¸­çš„æ¨¡å‹ç»‘å®š-å¾®è½¯å®˜æ–¹æ–‡æ¡£\nAsp.Net Core WebApiåŸºç¡€æ€»ç»“å’Œè¯·æ±‚æ–¹å¼-åšå®¢å›­ \nASP.NET Core MVC æ¨¡å‹ç»‘å®š[FromHeader]ï¼Œ[FromQuery]ï¼Œ[FromRoute]ï¼Œ[FromForm],[FromBody]ç”¨æ³•åœºæ™¯åŠåŸç†\nä½ æ‰€ä¸çŸ¥é“çš„ASP.NET Core MVC&#x2F;WebApiåŸºç¡€ç³»åˆ—ï¼ˆäºŒï¼‰- åšå®¢å›­\nASP.NET Core Web API Attributes\n\n","slug":"ASP-NET-CORE-ä¸­çš„æ¨¡å‹ç»‘å®š","date":"2022-05-19T02:10:11.000Z","categories_index":"","tags_index":"ASP.NET CORE C#","author_index":"å¥½å¤šé±¼ğŸŸ"},{"id":"b9663f58f18133b35bfe243f3e916a80","title":"Hello World","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new \"My New Post\"\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","slug":"hello-world","date":"2022-05-18T07:19:32.441Z","categories_index":"","tags_index":"","author_index":"å¥½å¤šé±¼ğŸŸ"}]